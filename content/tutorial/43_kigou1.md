+++
description = ""
date = "2017-06-27T11:19:16+09:00"
title = "全角と半角・縦中横"
weight = 43
slug = ""
topics = ["連数字"]
[menu.toc]
    parent = "edit"
+++
&#x3000;ここからしばらくめんどくさい記号の制御が続きます。ちまちましてる上変化が分かりにくくてアレなんですが、ここを乗り越えたら大幅な組版作業に行けますので頑張ってください。

　十蘭の小説にはフランス語が山ほど出てきます。青空文庫ではデフォルトで、横倒しにして欧文として表示したい箇所は半角、横倒しにせずカナと同じように縦向きで表示したいアルファベットは全角で書かれています。  
　TeXでもこれは全く同じです。なので縦向きで組みたい英数字は全角にしておきます。

{{< figure src="/img/44/zenkaku.jpg" caption="" alt="全角で縦向き" class="" >}}

　ただし全角フォントが気に入らなかったり表示がおかしくなったりする場合があります。それから2つ以上の英数を1字分のスペースに押し込んで縦向きにしたい時もよくあります。青空文庫なら`39［＃「39」は縦中横］`となっている部分です。  
　そんな時は**rensuji**コマンドを使います。半角文字を半角のまま、いわば「全角一文字分の高さのスペースにおける横書き」にしてくれます。  
　実際に見た方が早いです。<code class="language-latex">一様に&#092;rensuji{39}度の一夜を</code>のように書いてやるとこうなります。

{{< figure src="/img/44/rensuji.jpg" caption="" alt="連数字" class="" >}}

　面倒なのが !! や !? の扱いです。全角で書くと縦に二つ、半角で書くと横倒しで二つ表示されてしまうので、二重の感嘆符も\rensuji{}に入れるようにしましょう。  
　ごちゃごちゃするのが嫌なら、コマンドを使わずに“二重感嘆符記号そのもの”を原稿に直書きしちゃう手もあります。`‼⁉⁈⁇`←これをコピペしてもいいし、iPhone（androidも？）からなら普通に予測変換で入力できます。三重以上だとコマンド使わざるを得ないですが。

　いずれにしても大事なのは、原稿中でのルールを揃えることです。あるところでは連数字、あるところでは直書きのようにすると、表示が微妙に違ってバラバラな印象になります。1文字の英数字を全角で入れるか半角でrensujiにするか、2文字の場合は全角か半角か、!!をどうするか、暫定的でもいいので自分の文体に合ったルールを決めてみてください。

　Meryの「[全角／半角変換プラグイン](http://www.haijin-boys.com/wiki/%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3)」を入れると、文字種ごとに柔軟に一括揃えすることができます。  
　コマンドへの検索・置換は以下です。文章の内容によると思うので「すべて置換」はせず、ひとつひとつ「次を検索」＆「置換」を押していってください。

|検索する文字列|置換後の文字列|
|-----------------|---------------|
|`([!?！？]{2,3})`|`\\rensuji{\1}`|
|`([0-9a-zA-Z０-９ａ-ｚＡ-Ｚ]{2,3})`||