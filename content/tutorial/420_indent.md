+++
date = "2017-04-26T23:07:39+09:00"
weight = 420
slug = "indent"
topics = ["verbatim", "環境"]
description = ""
title = "インデント（字下げ）・空白"
[menu.toc]
    parent = "edit"
+++
&#x3000;改行はできたものの、行頭の字下げがなんかおかしい。まるまる2字分空いてますね。  
　これは青空文庫の本文行頭にもともとあった全角スペース（自作原稿でも、行頭を一字下げにしてる人は多いと思います）と、ドキュメントクラスutbookのデフォルトである1字下げが合わさって2文字分になっているからです。筆者も執筆の時に必ず全角スペースで字下げをするので、この癖は変えたくありません。utbookのほうに変わってもらいましょう。  
　段落のインデント量を指定するコマンドは\parindent。プリアンブルに`\parindent = 0pt`を追加します。  
　自作原稿を1字下げしていなくて、PDFでも下げたくない人は同じようにしてください。逆に出力の時だけ下げたい人は何もしなくてOKです。

##### 言いわけ
　ぶっちゃけて言うとこれはやっちゃいけないバッドノウハウです。TeXやプログラミング界隈では基本的に全角スペースは避けるものとされていて、場合によってはエラー潰しに死ぬほど時間がかかったりするのは有名な話です。（筆者も2時間ハマったことがある）  
　それでもTeXは活字を組むシステムですから、例えば「ロリータ　レンピカ」みたいに文中の単語として全角スペースを使いたい時は使っても許されます。問題は行頭の字下げで、これは全文に渉って必ず適用されるものですから、人間がいちいち手で打つのではなくレイアウトの一要素として機械に任せるべきだ、という考え方が徹底されています。なのでクラスファイルに「括弧で始まる行以外は何ポイント下げる」というような指定があらかじめ書かれています。これと衝突しないように、原稿は字下げせずに書くのがセオリーです。  
　しかしですね、正直、**書いてる間字下げしたくならないですか？**  
　別にしたくならない人はそれで全然OKだと思います。むしろTeX的にはそっちの方がいいです。でも私は字下げしたい。執筆段階で、未完成の文やいまいち納得していないところは字下げせずに書いて、大体いいなと思ったら全角スペースで下げています。字下げしてあるとなんとなく"ちゃんとした文"に見えるものです。

　ということで、ここでは完全にフィーリングと私利私欲でインデント抑制をしています。そこまで我欲が強くない人は、行頭のスペースは消してしまってクラスのインデント設定に任せた方がいいでしょう。  
　これもエディタの検索・置換で一括編集できます。「正規表現」のところにチェックを入れてから「すべて置換」してください。

検索する文字列：`^　`（半角キャレットの後に全角スペース）　→　置換する文字列：（何も入力しない）

#### 空白の扱い
　インデントに限らず、TeXでは空白・空間は人間ではなく主に機械が担うべき領域とされています。1行アキが出力されなかったのもそのせいです。いくら改行しても無駄だったのと同じように、半角スペースをいくつ入れても一つの空白として出力されます。（全角スペースは"空間"ではなく"文字"扱いなので、入れた分出力できます）  
　強制的に複数出力したい時は`\␣`（␣は半角スペース）か`~`を使います。~~を使うと、その位置では改行が起こりません。下の例の括弧内のように、次の行にかかるとおかしくなる所には~を使います。

    （~~~~）の\␣\␣『吾輩は（~~）である』

　英詩やプログラムのソースコードなど、あまりにもたくさん半角スペースが出て来るところは、全てを見たまま出力する**verbatim環境**の中に入れてやることで対応できます。エスケープのところで出てきた`\verb|ナントカ|`はこれの短縮形です（一行で収まる時に使う）。  
　begin／endがついていますが、これはそのまま本文中、`\begin{document}～\end{document}`の間に書き込みます。documentという環境の中に、verbatimという環境を入れ込んでいます。\verbとverbatim環境のように、単一行用と複数行用がセットになっているコマンドはよくあります。

```LaTeX
\begin{verbatim}
'Twas brillig, and the slithy toves
   Did gyre and gimble in the wabe;  %半角スペース3個で字下げされている
All mimsy were the borogoves,
   And the mome raths outgrabe.
            ――ルイス・キャロル『ジャバウォックの詩』
\end{verbatim}
```

　上の例だと、改行マクロを入れていなくても改行が見たまま出力され、さらに%で始まるコメントまで原稿に出力されてしまいます。本当にガチで見たままで細かい制御ができず、思ったのとは違う出力が出がちなので、できればverbatimの多用は控えた方が楽かと思います。

　一文字単位ではない、もっと広い空間の制御にもコマンドが要ります。一覧は[こちら](http://osksn2.hep.sci.osaka-u.ac.jp/~naga/miscellaneous/tex/tex-tips7.html)のページを参照してください。詳しい使い方は後述します。

#### 参考 
- [文書の設定 - [物理のかぎしっぽ]](http://hooktail.org/computer/index.php?%CA%B8%BD%F1%A4%CE%C0%DF%C4%EA)
- [英語文の体裁 - TeX Wiki](https://texwiki.texjp.org/?%E8%8B%B1%E8%AA%9E%E6%96%87%E3%81%AE%E4%BD%93%E8%A3%81)
- [Tex tips - ７　空白のコントロール](http://osksn2.hep.sci.osaka-u.ac.jp/~naga/miscellaneous/tex/tex-tips7.html)
- [□□TeXnique : Vol.5□□](http://www.serc.titech.ac.jp/~kannolab/kanno/tex/tex05.html)
