<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>連数字 on あがきながら覚えるTeX</title>
    <link>https://hakuoku.github.io/agakuTeX/topics/%E9%80%A3%E6%95%B0%E5%AD%97/index.xml</link>
    <description>Recent content in 連数字 on あがきながら覚えるTeX</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <atom:link href="https://hakuoku.github.io/agakuTeX/topics/%E9%80%A3%E6%95%B0%E5%AD%97/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>全角と半角・縦中横</title>
      <link>https://hakuoku.github.io/agakuTeX/tutorial/rensuji/</link>
      <pubDate>Tue, 27 Jun 2017 11:19:16 +0900</pubDate>
      
      <guid>https://hakuoku.github.io/agakuTeX/tutorial/rensuji/</guid>
      <description>

&lt;p&gt;&amp;#x3000;ここからしばらくめんどくさい記号の制御が続きます。ちまちましてる上変化が分かりにくくてアレなんですが、ここを乗り越えたら大幅な組版作業に行けますので頑張ってください。&lt;/p&gt;

&lt;p&gt;　十蘭の小説にはフランス語が山ほど出てきます。青空文庫ではデフォルトで、横倒しにして欧文として表示したい箇所は半角、横倒しにせずカナと同じように縦向きで表示したいアルファベットは全角で書かれています。&lt;br /&gt;
　TeXでもこれは全く同じです。なので縦向きで組みたい英数字は全角にしておきます。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/43rensuji/zenkaku.jpg&#34; alt=&#34;全角で縦向き&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　ただし全角フォントが気に入らなかったり表示がおかしくなったりする場合があります。それから2つ以上の英数を1字分のスペースに押し込んで縦向きにしたい時もよくあります。青空文庫なら&lt;code&gt;39［＃「39」は縦中横］&lt;/code&gt;となっている部分です。&lt;br /&gt;
　そんな時は&lt;strong&gt;rensuji&lt;/strong&gt;コマンドを使います。半角文字を半角のまま、いわば「全角一文字分の高さのスペースにおける横書き」にしてくれます。&lt;br /&gt;
　実際に見た方が早いです。&lt;code class=&#34;language-latex&#34;&gt;一様に&amp;#092;rensuji{39}度の一夜を&lt;/code&gt;のように書いてやるとこうなります。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/43rensuji/rensuji.jpg&#34; alt=&#34;連数字&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　面倒なのが !! や !? の扱いです。全角で書くと縦に二つ、半角で書くと横倒しで二つ表示されてしまうので、二重の感嘆符も\rensuji{}に入れるようにしましょう。&lt;br /&gt;
　ごちゃごちゃするのが嫌なら、コマンドを使わずに“二重感嘆符記号そのもの”を原稿に直書きしちゃう手もあります。&lt;code&gt;‼・⁉・⁈・⁇&lt;/code&gt;←これをコピペしてもいいし、iPhone（androidも？）からなら普通に予測変換で入力できます。三重以上だとコマンド使わざるを得ないですが。&lt;/p&gt;

&lt;p&gt;　いずれにしても大事なのは、原稿中でのルールを揃えることです。あるところでは連数字、あるところでは直書きのようにすると、表示が微妙に違ってバラバラな印象になります。1文字の英数字を全角で入れるか半角でrensujiにするか、2文字の場合は全角か半角か、!!をどうするか、暫定的でもいいので自分の文体に合ったルールを決めてみてください。&lt;br /&gt;
　Meryの「&lt;a href=&#34;http://www.haijin-boys.com/wiki/%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3&#34;&gt;全角／半角変換プラグイン&lt;/a&gt;」を入れると、文字種ごとに柔軟に一括揃えすることができます。&lt;/p&gt;

&lt;h4 id=&#34;大量にある時&#34;&gt;大量にある時&lt;/h4&gt;

&lt;p&gt;　コマンドへの検索・置換は以下です。これ以降も本文の部分だけを範囲選択後に、「選択範囲のみ」と「正規表現」にチェックを入れるのを忘れないでください。&lt;/p&gt;

&lt;p&gt;検索する文字列：&lt;code&gt;([!?！？]{2,3})&lt;/code&gt;　→　置換後の文字列：&lt;code&gt;\\rensuji{\1}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;　記号でない英数字の置換はちょっと難しいです。横倒しにしたい長い欧文の部分を_除いて_範囲選択→置換を、本文の終わりまで繰り返します。&lt;/p&gt;

&lt;p&gt;検索する文字列：&lt;code&gt;([0-9a-zA-Z０-９ａ-ｚＡ-Ｚ]{2,3})&lt;/code&gt;　→　置換後の文字列：&lt;code&gt;\\rensuji{\1}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;　&lt;code&gt;{2,3}&lt;/code&gt;のところが文字数を表していて、この場合は2文字以上3文字以下（つまり2文字か3文字）の英数字がヒットします。4文字でも連数字にしたい時は&lt;code&gt;{2,4}&lt;/code&gt;、一文字の英数も半角で入れて縦向きにしたいときは&lt;code&gt;{1,3}&lt;/code&gt;というように、状況に合わせて文字数の部分を変えてください。&lt;br /&gt;
　それでもなおかなり文脈によるところが大きいので、「すべて置換」はせずに一回ずつ「次を検索」＆「置換」を押すか、置換はせずに検索だけを使って手で書き換えるのが安全です。&lt;/p&gt;

&lt;p&gt;　そしてこの方法だと、英数字以外の記号が入るケースなどは検索できません。そのあたりのことを含め、次項ではちょっと寄り道して、ちょいちょい出てきた謎の呪文「&lt;strong&gt;正規表現&lt;/strong&gt;」について解説したいと思います。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>