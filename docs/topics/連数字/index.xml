<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>連数字 on あがきながら覚えるTeX</title>
    <link>https://hakuoku.github.io/agakuTeX/topics/%E9%80%A3%E6%95%B0%E5%AD%97/index.xml</link>
    <description>Recent content in 連数字 on あがきながら覚えるTeX</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <atom:link href="https://hakuoku.github.io/agakuTeX/topics/%E9%80%A3%E6%95%B0%E5%AD%97/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>全角と半角・縦中横</title>
      <link>https://hakuoku.github.io/agakuTeX/tutorial/rensuji/</link>
      <pubDate>Tue, 27 Jun 2017 11:19:16 +0900</pubDate>
      
      <guid>https://hakuoku.github.io/agakuTeX/tutorial/rensuji/</guid>
      <description>

&lt;p&gt;&amp;#x3000;ここからしばらくめんどくさい記号の制御が続きます。ちまちましてる上変化が分かりにくくてアレなんですが、ここを乗り越えたら大幅な組版作業に行けますので頑張ってください。&lt;/p&gt;

&lt;p&gt;　十蘭の小説にはフランス語が山ほど出てきます。青空文庫ではデフォルトで、横倒しにして欧文として表示したい箇所は半角、横倒しにせずカナと同じように縦向きで表示したいアルファベットは全角で書かれています。&lt;br /&gt;
　TeXでもこれは全く同じです。なので縦向きで組みたい英数字は全角にしておきます。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/43/zenkaku.jpg&#34; alt=&#34;全角で縦向き&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　ただし全角フォントが気に入らなかったり表示がおかしくなったりする場合があります。それから2つ以上の英数を1字分のスペースに押し込んで縦向きにしたい時もよくあります。青空文庫なら&lt;code&gt;39［＃「39」は縦中横］&lt;/code&gt;となっている部分です。&lt;br /&gt;
　そんな時は&lt;strong&gt;rensuji&lt;/strong&gt;コマンドを使います。半角文字を半角のまま、いわば「全角一文字分の高さのスペースにおける横書き」にしてくれます。&lt;br /&gt;
　実際に見た方が早いです。&lt;code class=&#34;language-latex&#34;&gt;一様に&amp;#092;rensuji{39}度の一夜を&lt;/code&gt;のように書いてやるとこうなります。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/43/rensuji.jpg&#34; alt=&#34;連数字&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　面倒なのが !! や !? の扱いです。全角で書くと縦に二つ、半角で書くと横倒しで二つ表示されてしまうので、二重の感嘆符も\rensuji{}に入れるようにしましょう。&lt;br /&gt;
　ごちゃごちゃするのが嫌なら、コマンドを使わずに“二重感嘆符記号そのもの”を原稿に直書きしちゃう手もあります。&lt;code&gt;‼・⁉・⁈・⁇&lt;/code&gt;←これをコピペしてもいいし、iPhone（androidも？）からなら普通に予測変換で入力できます。三重以上だとコマンド使わざるを得ないですが。&lt;/p&gt;

&lt;p&gt;　いずれにしても大事なのは、原稿中でのルールを揃えることです。あるところでは連数字、あるところでは直書きのようにすると、表示が微妙に違ってバラバラな印象になります。1文字の英数字を全角で入れるか半角でrensujiにするか、2文字の場合は全角か半角か、!!をどうするか、暫定的でもいいので自分の文体に合ったルールを決めてみてください。&lt;br /&gt;
　Meryの「&lt;a href=&#34;http://www.haijin-boys.com/wiki/%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3&#34;&gt;全角／半角変換プラグイン&lt;/a&gt;」を入れると、文字種ごとに柔軟に一括揃えすることができます。&lt;/p&gt;

&lt;h4 id=&#34;大量にある時&#34;&gt;大量にある時&lt;/h4&gt;

&lt;p&gt;　コマンドへの検索・置換は以下です。これ以降も本文の部分だけを範囲選択後に、「選択範囲のみ」と「正規表現」にチェックを入れるのを忘れないでください。&lt;/p&gt;

&lt;p&gt;検索する文字列：&lt;code&gt;([!?！？]{2,3})&lt;/code&gt;　→　置換後の文字列：&lt;code&gt;\\rensuji{\1}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;　記号でない英数字の置換はちょっと難しいです。横倒しにしたい長い欧文の部分を_除いて_範囲選択→置換を、本文の終わりまで繰り返します。&lt;/p&gt;

&lt;p&gt;検索する文字列：&lt;code&gt;([0-9a-zA-Z０-９ａ-ｚＡ-Ｚ]{2,3})&lt;/code&gt;　→　置換後の文字列：&lt;code&gt;\\rensuji{\1}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;　&lt;code&gt;{2,3}&lt;/code&gt;のところが文字数を表していて、この場合は2文字以上3文字以下（つまり2文字か3文字）の英数字がヒットします。4文字でも連数字にしたい時は&lt;code&gt;{2,4}&lt;/code&gt;、一文字の英数も半角で入れて縦向きにしたいときは&lt;code&gt;{1,3}&lt;/code&gt;というように、状況に合わせて文字数の部分を変えてください。&lt;br /&gt;
　それでもなおかなり文脈によるところが大きいので、「すべて置換」はせずに一回ずつ「次を検索」＆「置換」を押すか、置換はせずに検索だけを使って手で書き換えるのが安全です。&lt;/p&gt;

&lt;p&gt;　そしてこの方法だと、英数字以外の記号が入るケースなどは検索できません。そのあたりのことを含め、次項ではちょっと寄り道して、ちょいちょい出てきた謎の呪文「&lt;strong&gt;正規表現&lt;/strong&gt;」について解説したいと思います。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>全角と半角・縦中横・記号の制御</title>
      <link>https://hakuoku.github.io/agakuTeX/tutorial/tatechu/</link>
      <pubDate>Sun, 07 May 2017 08:54:46 +0900</pubDate>
      
      <guid>https://hakuoku.github.io/agakuTeX/tutorial/tatechu/</guid>
      <description>

&lt;p&gt;&amp;#x3000;十蘭の小説にはフランス語が山ほど出てきます。青空文庫ではデフォルトで、横倒しにして欧文として表示したい箇所は半角、横倒しにせずカナと同じように縦向きで表示したいアルファベットは全角で書かれています。&lt;br /&gt;
　TeXでもこれは全く同じです。なので縦向きで組みたい英数字は全角にしておきます。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/44/zenkaku.jpg&#34; alt=&#34;全角で縦向き&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　ただし全角フォントが気に入らなかったり表示がおかしくなったりする場合があります。それから2つ以上の英数を1字分のスペースに押し込んで縦向きにしたい時もよくあります。青空文庫なら&lt;code&gt;39［＃「39」は縦中横］&lt;/code&gt;となっている部分です。&lt;br /&gt;
　そんな時は&lt;strong&gt;rensuji&lt;/strong&gt;コマンドを使います。半角文字を半角のまま、いわば「全角一文字分の高さのスペースにおける横書き」にしてくれます。&lt;br /&gt;
　実際に見た方が早いです。&lt;code class=&#34;language-latex&#34;&gt;一様に&amp;#092;rensuji{39}度の一夜を&lt;/code&gt;のように書いてやるとこうなります。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/44/rensuji.jpg&#34; alt=&#34;連数字&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;　めんどくさいのが !! や !? の扱いです。全角で書くと縦に二つ、半角で書くと横倒しで二つ表示されてしまうので、二重・三重の感嘆符は&lt;/p&gt;

&lt;p&gt;　欧文は基本的に半角で書いておけばいいんですが、ここに英語以外の外国語使いにとっての罠があります。本文中に普通にé（アキュートアクセントつきe。よく出る）と書くと、結果はこういうことになります。&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://hakuoku.github.io/agakuTeX/img/44/&#34; alt=&#34;eだけが縦書きになった仏文&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;p&gt;
        悪夢
        
            
        
        &lt;/p&gt; 
    &lt;/figcaption&gt;
    
&lt;/figure&gt;


&lt;p&gt;　例え半角幅のアルファベットでも、upLaTeXのデフォルトでは“英語に含まれていない字”はカナや漢字と同じ全角文字のくくりに入るので、和文のように縦に組まれてしまうんです。&lt;br /&gt;
　なので対策を打ちます。特殊な字の出現頻度や普段の執筆スタイルによって方法が変わります。&lt;/p&gt;

&lt;h4 id=&#34;多言語ライトユーザー向け-伝統的な方法&#34;&gt;多言語ライトユーザー向け（伝統的な方法）&lt;/h4&gt;

&lt;p&gt;　そんなに英語以外の外国語を使わない人、自前のキーボードから外国文字を入力できなくて毎回コピペで取って来てる人、そもそも最初から直書きをせずにアクセント分解を使っている人はこの方法を取ります。エスケープの時と同様、コマンドで記号を入れるやり方です。&lt;br /&gt;
　&lt;a href=&#34;http://www.biwako.shiga-u.ac.jp/sensei/kumazawa/tex/accent.html&#34;&gt;アクセント記号: LaTeX&lt;/a&gt;のページや、&lt;a href=&#34;https://wtsnjp.com/pdf/platexsheet.pdf&#34;&gt;チートシート&lt;/a&gt;1ページ目の「アクセント類」のところを見て文中にコマンドを入力してください。&lt;br /&gt;
　&lt;code&gt;\アクセントコマンド（つけたい文字）&lt;/code&gt;のようになっており、例は主にaにつけるようになっていますが、もちろん他のアルファベット（大文字含む）にも使えます。
　&lt;code&gt;\d a&lt;/code&gt;のように、コマンドとつけたい字が半角スペースで離れているものは&lt;code&gt;\d{a}&lt;/code&gt;のような波括弧で囲ったものと同義です。好みで使い分けてください。&lt;/p&gt;

&lt;p&gt;　&lt;a href=&#34;http://cosmoshouse.com/tools/acc-conv-j.htm&#34;&gt;標準的なアクセント分解&lt;/a&gt;イコール青空文庫の形式を使っている場合は置換ができます。&lt;/p&gt;

&lt;h4 id=&#34;多言語ヘビーユーザー向け-進化した方法&#34;&gt;多言語ヘビーユーザー向け（進化した方法）&lt;/h4&gt;

&lt;p&gt;　十蘭並みに外国語を使う人、キーボードカスタマイズばっちりしてて直書きができる人（スマホから入力含む）、もう外国文字がいっぱい入ったファイルがあって今更変換したくない人はこっちです。設定をいじることで、特殊文字を和文（全角）ではない欧文として認識させます。&lt;/p&gt;

&lt;!--　半角英数はそのまま半角で書けば横向きになりますが、悩ましいのが本文との間のスペースです。
　青空文庫では`のごとき Renault の Les Stella、`のように、和文との間に半角スペースを入れ、句読点との間では省いています。筆者自身は和文や他の記号との間には一切スペースを入れません。これはもう個人の執筆スタイルの問題なので統一しようとするのは無理がある気がします。
　スペースを入れるか入れないかでどう結果が変わるかはドキュメントクラスによりますが、utbookでは--&gt;

&lt;h4 id=&#34;参考&#34;&gt;参考&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.fugenji.org/~thomas/texlive-guide/vertical.html&#34;&gt;縦書きしてみよう&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://id.fnshr.info/2017/05/20/my-latex-templates-201705/#toc12&#34;&gt;私家版日本語 LaTeX テンプレート（2017年5月版）｜Colorless Green Ideas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://zrbabbler.sp.land.to/uplatex.html&#34;&gt;upLaTeXを使おう [電脳世界の奥底にて]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>